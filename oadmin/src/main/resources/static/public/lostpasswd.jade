-@ val flash: Map[String, String]
-@ val error: Boolean = flash.get("error").exists(_ == "T")
-@ val publicKey: String
!!! 5
html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    meta(name='description' content='')
    meta(name='author' content='Amadou Cisse')
    link(rel='shortcut icon' href='/assets/ico/favicon.png')
    title Schola - Lost password
    link(href={uri("/assets/css/bootstrap.css")} rel='stylesheet')
    link(href={uri("/assets/css/lostpasswd.css")} rel='stylesheet')
  body
    .navbar.navbar-inverse.navbar-fixed-top(role='navigation')
      .container
        .navbar-header
          a.navbar-brand(href='/') Schola
    .container
      .page-header
        h3
          | Reset your password                                  
    .container
      form.form-lostpasswd(role='form' method='POST')
        fieldset
          .bs-callout.bs-callout-info
            p
              | Enter your email address and an administrator will contact you.
          input.form-control(name='username' type='text' placeholder='Enter email address' required autofocus)
          #recaptcha
          button.btn.btn-lg.btn-primary(type='submit') Submit
          a.btn.btn-lg.btn-default(href='/') Cancel
    script(src={uri("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js")} charset='utf-8')
    script(src={uri("/assets/javascripts/jquery.min.js")} type='text/javascript' charset='utf-8')
    :&javascript

      Recaptcha.focus_response_field = function(){};

      function showRecaptcha(element) {
        Recaptcha.create("#{publicKey}", element, {
          theme: "white",
          callback: Recaptcha.focus_response_field
        })
      }

      jQuery(function($){
        setTimeout(function(){showRecaptcha('recaptcha')}, 0)
        })